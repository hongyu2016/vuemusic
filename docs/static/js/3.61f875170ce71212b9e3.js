webpackJsonp([3],{103:function(t,e,s){s(123);var a=s(1)(s(115),s(132),"data-v-eeca64f8",null);t.exports=a.exports},104:function(t,e,s){"use strict";e.a={getPlayListByWhere:function(t,e){return"http://route.showapi.com/213-4?showapi_appid=29545&showapi_sign=c1f0d56a3e4c4417b1c61f5ba4c04e28&topid="+t+"&page="+e},search:function(t,e){return"http://route.showapi.com/213-1?showapi_appid=29545&showapi_sign=c1f0d56a3e4c4417b1c61f5ba4c04e28&keyword="+t+"&page="+e}}},115:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(10),i=s.n(a),n=s(104),o=s(31),r=s(3);e.default={name:"searchList",data:function(){return{loading:!1,searchTxt:"",songList:[],isPush:!0,allPages:0,nowPages:1,noMore:!1,tip:""}},computed:{},methods:i()({get:function(){this.loading=!0;var t=this;this.nowPages=1,this.allPages=0,this.isPush=!0,this.$http.get(n.a.search(this.searchTxt,this.nowPages)).then(function(e){0==e.data.showapi_res_code?(t.songList=e.data.showapi_res_body.pagebean.contentlist,t.allPages=e.data.showapi_res_body.pagebean.allPages,t.loading=!1):t.tip=e.data.showapi_res_error,e.data.showapi_res_body.pagebean.contentlist.length<=0&&(t.noMore=!0,t.tip="没有更多内容了")})},getLoadMore:function(){var t=this;this.nowPages<this.allPages+1?(this.loading=!0,this.noMore=!1,this.nowPages++,this.$http.get(n.a.search(this.searchTxt,this.nowPages)).then(function(e){0==e.data.showapi_res_code?(t.isPush=!0,e.data.showapi_res_body.pagebean.contentlist.forEach(function(e){t.songList.push(e)}),t.loading=!1):(t.noMore=!0,t.tip=e.data.showapi_res_error,t.loading=!1),e.data.showapi_res_body.pagebean.contentlist.length<=0&&(t.noMore=!0,t.tip="没有更多内容了",t.loading=!1)})):(t.noMore=!0,t.tip="没有更多内容了")},searchMusic:function(){if(0==this.searchTxt.length)return!1;this.get()},loadMore:function(){this.getLoadMore()},playMuisc:function(t){this.isPush&&(this.setSongiList(this.songList),this.isPush=!1),o.a.playMusic(t)}},s.i(r.c)({setSongiList:"SONG_LIST_ACTION"})),created:function(){}}},119:function(t,e,s){e=t.exports=s(98)(!1),e.push([t.i,".search-box[data-v-eeca64f8]{position:relative}.search-head[data-v-eeca64f8]{position:relative;margin-bottom:.5rem}.search-input[data-v-eeca64f8]{width:85%;height:1rem;padding:0 .1rem;border:1px solid #e6e5e5}.search-btn[data-v-eeca64f8]{position:absolute;right:0;font-size:.8rem;margin-top:.1rem;color:gray}",""])},123:function(t,e,s){var a=s(119);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(99)("28564345",a,!0)},132:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-box container"},[s("div",{staticClass:"search-head"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchTxt,expression:"searchTxt",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入歌曲或歌手"},domProps:{value:t.searchTxt},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.searchMusic(e)},input:function(e){e.target.composing||(t.searchTxt=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{staticClass:"icon-search search-btn",on:{click:function(e){e.stopPropagation(),t.searchMusic(e)}}})]),t._v(" "),s("div",{staticClass:"search-list"},[s("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},[t._l(t.songList,function(e,a){return[s("li",{staticClass:"list",on:{click:function(e){t.playMuisc(a)}}},[s("div",{staticClass:"flex-item flex-item-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.albumpic_big,expression:"item.albumpic_big"}],staticClass:"img-load"})]),t._v(" "),s("div",{staticClass:"flex-item flex-item-title"},[s("p",{staticClass:"songname"},[t._v(t._s(e.songname))]),t._v(" "),s("p",{staticClass:"singername"},[t._v("by： -"),s("span",[t._v(" "+t._s(e.singername))])])])])]}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}],staticStyle:{"text-align":"center",padding:"5px 0",width:"100%","font-size":"14px"}},[t._v(t._s(t.tip))])],2)])])},staticRenderFns:[]}}});